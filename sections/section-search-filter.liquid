
<script src="{{ 'predictive-search.js' | asset_url }}" defer="defer"></script>



<div class="{{section.settings.color_schema}}"
      style="{% if section.settings.image %} background-image:url('{{ section.settings.image.src | img_url: 'master' }}'); background-size: cover; background-position: center; {% endif %} padding-top:{{section.settings.padding_top}}rem; padding-bottom:{{section.settings.padding_bottom}}rem;"
>

  <div class="xl:max-w-[1320px] m-auto" {% if section.settings.animation_setting == true %} data-aos="fade-up" data-aos-offset="400"{% endif %}>

    {% if search.performed %}
    {% if search and search.results != empty %}
    <div class="px-2 text-center pb-4" style="color: {{section.settings.color_text_title}};">
      {% assign amount = search.results_count %}
      {{ amount }} {% if amount > 1 %}{{ 'common.products' | t }}{% else %}{{ 'common.product' | t }}{% endif %}
    </div>
      
    {% endif %}
  {% endif %}
  
    <div class="max-w-screen-sm mx-auto">
      <div class="Left_titlebox flex flex-col {{section.settings.title_text_align}}">
            {% if section.settings.subtitle != blank %}
                <span class="text-xs my-2 leading-8 tracking-wider" style="color:{{section.settings.color_text_title}};">
                  {{section.settings.subtitle}}
                </span>
            {% endif %}
            {% if section.settings.headline != blank %}
                <h1 class="text-2xl lg:text-3xl font-bold tracking-wider" style="color:{{section.settings.color_title}};">
                  {{ section.settings.headline }}
                </h1>
            {% endif %}
            <div class="subfont_size my-4 leading-8 tracking-wider" style="color:{{section.settings.color_text_title}};">
                  {{ section.settings.text }}
            </div>  
      </div>

      <predictive-search>
      <form
        action="{{ routes.search_url }}"
        method="get"
        role="search"
      >
        {% comment %} search only in products {% endcomment %}
      
      <div class="w-full flex px-4">
          <input
          type="search"
          id="Search"
          name="q"
          value="{{ search.terms }}"
          placeholder="{{ 'search.placeholder' | t }}"
          class="w-full rounded-r-none px-3 appearance-none focus:outline-none"
          style="border: 1px solid {{section.settings.border_color}};"
          role="combobox"
          aria-expanded="false"
          aria-owns="predictive-search-results-list"
          aria-controls="predictive-search-results-list"
          aria-haspopup="listbox"
          aria-autocomplete="list"
          autocorrect="off"
          autocomplete="off"
          autocapitalize="off"
          spellcheck="false"
        >
        <input type="hidden" name="type" value="product" />
        <button class="{{section.settings.color_button}} {{section.settings.button_color_hover}} ml-2 px-6 py-auto w-auto inline-flex items-center flex-shrink-0 rounded-l-none" style="border: 1px solid {{section.settings.border_color}}; color: {{section.settings.button_font_color}};">
          {% render 'icon-search', class: 'w-6 h-auto sm:mr-2' %}
  
          <span class="hidden sm:inline-block">
            {{ 'action.to_search' | t }}
          </span>
        </button>
      </div>
      <div id="predictive-search" tabindex="-1"></div>
      </form>   
      </predictive-search>
    </div>
  </div>

  

</div>



{% schema %}
{
      "name": "Search Filter",
      "class": "shopify-section-vue",
      "settings": [
      {
      "type": "header",
      "content": "General Settings",
      "info": "Settings animation, background color and column design"
      },
      {
        "type": "select",
        "id": "color_schema",
        "label": "Background color",
        "options": [
          {
            "value": "first_color",
            "label": "First Color"
          },
          {
            "value": "second_color",
            "label": "Second Color"
          },
          {
            "value": "third_color",
            "label": "Third Color"
          },
          {
            "value": "forth_color",
            "label": "Forth Color"
          }, {
            "value": "fifth_color",
            "label": "Fifth Color"
          }, {
            "value": "background_transparent",
            "label": "Transparent Color"
          }
        ],
        "default": "second_color"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Background Image"
      },
      {
        "type": "checkbox",
        "id": "animation_setting",
        "default": false,
        "label": "Animation turn on"
      },
      {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top controll",
      "default":4,
      "min": 1,
      "max": 20,
      "step": 1,
      "unit": "rem"
      },
      {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom controll",
      "default":4,
      "min": 1,
      "max": 20,
      "step": 1,
      "unit": "rem"
      },
      {
      "type": "header",
      "content": "Section Title Settings",
      "info": "Setting section title and description"
      },
      {
        "type":"text",
        "id":"subtitle",
        "label":"subtitle",
        "default":"Real Estate Agency"
     },
      {
        "type":"text",
        "id":"headline",
        "label":"t:common.headline",
        "default":"Our store"
     },
     {
      "type":"richtext",
      "id":"text",
      "label":"t:common.headline"
    },
    {
      "type": "select",
      "id": "title_text_align",
      "label": "Text align",
      "options": [
            {
                "value": "font_left",
                "label": "Left"
            },
            {
                "value": "font_right",
                "label": "Right"
            },
            {
                "value": "font_center",
                "label": "Center"
            }
      ],
            "default": "font_center"
      },
      {
        "type": "color",
        "id": "color_title",
        "label": "Section title color",
        "default": "#4b4b4b"
      },
      {
        "type": "color",
        "id": "color_text_title",
        "label": "Section Description color",
        "default": "#4b4b4b"
      },
      {
      "type": "header",
      "content": "Search Box Design",
      "info": "Settings Searchbox border color, Button color, and font colors"
      },
      {
    "type":"select",
    "id":"color_button",
    "label":"Button color",
    "options":[
       {
          "value":"first_color",
          "label":"First Color"
       },
       {
          "value":"second_color",
          "label":"Second Color"
       },
       {
          "value":"third_color",
          "label":"Third Color"
       },
       {
          "value":"forth_color",
          "label":"Forth Color"
       },
       {
          "value":"fifth_color",
          "label":"Fifth Color"
       },
       {
          "value":"background_transparent",
          "label":"Transparent Color"
       }
    ],
    "default":"second_color"
      },
      {
      "type":"select",
      "id":"button_color_hover",
      "label":"Button mouseover color",
      "options":[
            {
            "value":"button_first_color",
            "label":"First Color"
            },
            {
            "value":"button_second_color",
            "label":"Second Color"
            },
            {
            "value":"button_third_color",
            "label":"Third Color"
            },
            {
            "value":"button_forth_color",
            "label":"Forth Color"
            },
            {
            "value":"button_fifth_color",
            "label":"Fifth Color"
            },
            {
            "value":"button_background_transparent",
            "label":"Transparent Color"
            }
      ],
      "default":"button_third_color"
      },
      {
      "type": "color",
      "id": "border_color",
      "label": "Button border color",
      "default": "#6F665D"
      },
      {
      "type": "color",
      "id": "button_font_color",
      "label": "Button font color",
      "default": "#6F665D"
      }
      ],
      "presets": [
      {
            "name": "Serach Filter",
            "category": "tab"
      }
      ]
            
}
{% endschema %}
