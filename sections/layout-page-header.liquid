
<header class="text-white body-font ">
  <div class="{{section.settings.color_schema}} cursor-pointer w-full mx-auto flex flex-wrap px-5 py-2 flex-col md:flex-col-reverse	items-center top-0 z-10">
    <div class="xl:w-[1200px] lg:w-full m-auto flex flex-wrap px-5 py-2 flex-col md:flex-col-reverse	items-center">
      <!-- Navigation -->
      <nav class="hidden md:flex flex w-full justify-center flex-wrap items-center text-base md:ml-auto space-x-5 py-4">
      {% for link in section.settings.menu.links %}
          {% if link.links != blank %}
              {% assign link_handle = link.handle | replace: '-', '_' %}
              <div class="relative" x-data="{ {{ link_handle }}: false }">
                  <button type="button" x-on:click="{{ link_handle }} = ! {{ link_handle }}" class="inline-flex items-center">
                      {{ link.title }}
                      {% render 'icon-dropdown' %}
                  </button>

                  <div  x-cloak 
                  x-transition:enter="transition ease-out duration-300"
                  x-transition:enter-start="opacity-0 translate-y-3"
                  x-transition:enter-end="opacity-100 translate-y-0"
                  x-transition:leave="transition ease-out duration-300"
                  x-transition:leave-start="opacity-100 translate-y-0"
                  x-transition:leave-end="opacity-0 translate-y-3"
                  x-show="{{ link_handle }}"  x-on:click.away="{{ link_handle }} = false" class="absolute z-10 -ml-5 mt-5 transform px-2 w-screen max-w-md sm:px-0 lg:ml-0 lg:left-1/2 lg:-translate-x-1/2">
                      <div class="shadow-lg ring-black ring-opacity-5 overflow-hidden rounded-lg">
                          <div class="relative grid gap-6 {{section.settings.sub_color}} px-5 py-6 sm:gap-8 sm:p-8">
                              {% for childlink in link.links %}
                                  <a href="{{ childlink.url }}" class="-m-3 p-3 flex items start rounded-lg hover:bg-gray-100">
                                      <div class="ml-4">
                                          <p class="text-gray-900 text-base font-medium">
                                              {{ childlink.title }}
                                          </p>
                                      </div>
                                  </a>
                              {% endfor %}
                          </div>
                      </div>
                  </div>
              </div>
          {% else %}
              <a href="{{ link.url }}" class="text-base text-white">{{ link.title }}</a>
          {% endif %}
      {% endfor %}
      </nav>

      <!-- shop logo and name -->
      <a href="{{ routes.root_url }}"
      class="flex order-first lg:order-none lg:w-1/5 title-font font-medium items-center text-white lg:items-center lg:justify-center mb-4 md:mb-0">
      {%- if section.settings.logo != blank -%}
      {%- assign image_size_2x = section.settings.logo_width | times: 2 | at_most: 5760 -%}
      <img srcset="{{ section.settings.logo | image_url: width: section.settings.logo_width }} 1x, {{ section.settings.logo | image_url: width: image_size_2x }} 2x"
        src="{{ section.settings.logo | image_url: width: section.settings.logo_width }}"
        loading="lazy"
        class="header__heading-logo"
        width="{{ section.settings.logo.width }}"
        height="{{ section.settings.logo.height }}"
        alt="{{ section.settings.logo.alt | default: shop.name | escape }}"
      >
    {%- else -%}
      <span  class="ml-3 text-xl"> {{ shop.name }}</span >
    {%- endif -%}
      </a>

      <!-- language, account and cart -->   
      <div class="lg:w-full inline-flex lg:justify-end">

      <div class="hidden lg:flex lg:w-full inline-flex lg:justify-start items-center">
        <!-- language setting -->
        {% render 'icon-translate' %}
        <div x-data="{ open : false }">
            {% form 'localization', id:"localization_form_tag"%}
            <button class="localeBtn inline-flex items-center" type="button" x-on:click="open = ! open">
              {{form.current_locale.endonym_name | capitalize}}
              {% render 'icon-dropdown' %}
            </button>
            <div 
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 translate-y-3"
            x-transition:enter-end="opacity-100 translate-y-0"
            x-transition:leave="transition ease-out duration-300"
            x-transition:leave-start="opacity-100 translate-y-0"
            x-transition:leave-end="opacity-0 translate-y-3"
            class="dropdown absolute z-10" x-cloak  x-show="open"  x-on:click.away="open = false">
                {% for locale in shop.published_locales %}
                  <a href="#" id="localItem" lang="{{locale.iso_code}}">
                    {{locale.endonym_name | capitalize}}
                  </a>
                {% endfor %}
            </div>
            <input type="hidden" name="locale_code" value="{{form.current_locale.iso_code}}" id="localeCode">
          {%endform%}
        </div>
       </div> 

      {% assign link_class = 'flex flex-col justify-center items-center text-sm text-white hover:text-black
      font-medium transition duration-150 p-2' %}
      {% assign icon_class = 'w-auto h-5 text-white mb-2' %}

      <div class="hidden md:flex space-x-2">
        <a href="{{ routes.search_url }}" class="{{ link_class }}">
          {% render 'icon-search', class: icon_class %}
          
        </a>

        {% if shop.customer_accounts_enabled %}
        <a href="{% if customer %}{{ routes.account_url }}{% else %}{{ routes.account_login_url }}{% endif %}"
          class="{{ link_class }}">
          {% render 'icon-account', class: icon_class %}
      
        </a>
        {% endif %}

        <a href="{{ routes.cart_url }}" class="{{ link_class }} relative">
          {% render 'icon-cart', class: icon_class %}
        

          {% if cart.item_count > 0 %}
          <div
            class="w-5 h-5 flex justify-center items-center bg-black text-white text-xs border border-white rounded-full absolute top-0 right-0">
            {{ cart.item_count }}
          </div>
          {% endif %}
        </a>
      </div>
      </div>

    </div>
  </div>
</header>


{% schema %}
{
  "name":"t:sections.header.name",
  "class":"shopify-section-vue",
  "settings":[
     {
        "type":"select",
        "id":"color_schema",
        "label":"Background color",
        "options":[
           {
              "value":"first_color",
              "label":"First Color"
           },
           {
              "value":"second_color",
              "label":"Second Color"
           },
           {
              "value":"third_color",
              "label":"Third Color"
           }
        ],
        "default":"third_color"
     },
     {
      "type":"select",
      "id":"hover_schema",
      "label":"Background mouse over",
      "options":[
         {
            "value":"nav_color_first",
            "label":"First Color"
         },
         {
            "value":"nav_color_second",
            "label":"Second Color"
         },
         {
            "value":"nav_color_third",
            "label":"Third Color"
         }
      ],
      "default":"nav_color_third"
   },
      {
        "type":"select",
        "id":"sub_color",
        "label":"Submenu color",
        "options":[
          {
              "value":"first_color",
              "label":"First Color"
          },
          {
              "value":"second_color",
              "label":"Second Color"
          },
          {
              "value":"third_color",
              "label":"Third Color"
          }
        ],
        "default":"second_color"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:common.image"
      },
    {
        "type": "link_list",
        "id": "menu",
        "default" : "main-menu",
        "label": "Heading Navigation Menu"
    }
  ]
}
{% endschema %}